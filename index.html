<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Certification Mastery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f1f5f9; }
        .option-btn:disabled { cursor: not-allowed; }
        .progress-bar { transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .exam-card:hover { transform: translateY(-5px); transition: 0.3s; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8">

    <!-- Header -->
    <header class="w-full max-w-3xl mb-8 text-center">
        <h1 class="text-3xl font-black text-slate-800 mb-2 tracking-tight">
            <i class="fas fa-cloud text-blue-500 mr-2"></i>Salesforce Mastery
        </h1>
        <p class="text-slate-500 text-sm font-bold tracking-widest uppercase">Certification Prep Portal</p>
    </header>

    <!-- Main Content -->
    <main id="app-container" class="w-full max-w-3xl">
        
        <!-- Selection Screen -->
        <div id="selection-screen" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Exam A -->
            <div onclick="quizApp.selectExam('agentforce')" class="exam-card bg-white rounded-3xl shadow-xl p-8 border-t-8 border-blue-600 cursor-pointer hover:shadow-2xl transition">
                <div class="text-blue-600 text-5xl mb-6"><i class="fas fa-robot"></i></div>
                <h2 class="text-xl font-bold mb-2">Agentforce Specialist</h2>
                <p class="text-slate-500 text-sm mb-6">Salesforce AIã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆæ§‹ç¯‰ã€Trust Layerã«é–¢ã™ã‚‹100å•ã€‚</p>
                <span class="inline-flex items-center text-blue-600 font-bold">è©¦é¨“ã‚’è§£ã <i class="fas fa-chevron-right ml-2 text-xs"></i></span>
            </div>
            <!-- Exam B -->
            <div onclick="quizApp.selectExam('admin')" class="exam-card bg-white rounded-3xl shadow-xl p-8 border-t-8 border-cyan-500 cursor-pointer hover:shadow-2xl transition">
                <div class="text-cyan-500 text-5xl mb-6"><i class="fas fa-user-shield"></i></div>
                <h2 class="text-xl font-bold mb-2">Administrator</h2>
                <p class="text-slate-500 text-sm mb-6">æ¨™æº–æ©Ÿèƒ½ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã€è‡ªå‹•åŒ–ã«é–¢ã™ã‚‹100å•ã€‚</p>
                <span class="inline-flex items-center text-cyan-500 font-bold">è©¦é¨“ã‚’è§£ã <i class="fas fa-chevron-right ml-2 text-xs"></i></span>
            </div>
        </div>

        <!-- Mode Screen (Hidden by default) -->
        <div id="mode-screen" class="hidden bg-white rounded-3xl shadow-xl p-10 text-center border border-slate-200">
            <button onclick="quizApp.backToSelection()" class="text-slate-400 hover:text-slate-600 mb-4 block mx-auto"><i class="fas fa-arrow-left"></i> è©¦é¨“é¸æŠã«æˆ»ã‚‹</button>
            <h2 id="selected-exam-title" class="text-2xl font-black mb-6">è©¦é¨“å</h2>
            <div class="flex flex-col space-y-4 max-w-xs mx-auto">
                <button onclick="quizApp.start(false)" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl shadow-lg transition">
                    æœ€åˆã‹ã‚‰è§£ã (No.1ã€œ)
                </button>
                <button onclick="quizApp.start(true)" class="bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-4 rounded-2xl transition">
                    ãƒ©ãƒ³ãƒ€ãƒ ã«å‡ºé¡Œ
                </button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-end mb-3 px-1">
                <span id="progress-text" class="text-xs font-black text-slate-400 tracking-widest uppercase">Q 1/100</span>
                <span id="score-text" class="text-sm font-black text-blue-600">æ­£è§£ç‡: 0%</span>
            </div>
            <div class="w-full bg-slate-200 h-2 rounded-full mb-8 overflow-hidden">
                <div id="progress-bar" class="progress-bar bg-blue-600 h-full w-0"></div>
            </div>

            <div class="bg-white rounded-3xl shadow-2xl p-6 md:p-10 border border-slate-100">
                <div id="category-badge" class="inline-block px-3 py-1 rounded-lg bg-blue-50 text-blue-600 text-xs font-black mb-6 tracking-tighter">CATEGORY</div>
                <h3 id="question-text" class="text-lg md:text-xl font-bold text-slate-800 mb-10 leading-relaxed"></h3>

                <div id="options-container" class="space-y-4"></div>

                <!-- Explanation Area -->
                <div id="explanation-container" class="hidden mt-10 pt-10 border-t-2 border-slate-50">
                    <div id="result-badge" class="flex items-center mb-6 font-black text-xl italic"></div>
                    <div id="explanation-text" class="text-slate-600 text-sm md:text-base leading-relaxed whitespace-pre-wrap bg-slate-50 p-6 rounded-2xl border border-slate-100 font-medium"></div>
                    <button onclick="quizApp.nextQuestion()" class="mt-8 w-full bg-slate-900 hover:bg-black text-white font-bold py-5 rounded-2xl transition shadow-xl transform active:scale-95">
                        æ¬¡ã®å•é¡Œã¸ <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden bg-white rounded-3xl shadow-2xl p-12 text-center border border-slate-200">
            <h2 class="text-3xl font-black mb-4">COMPLETE!</h2>
            <div class="text-8xl my-10" id="final-emoji">ğŸ†</div>
            <div class="text-5xl font-black text-blue-600 mb-2" id="final-score">0%</div>
            <p class="text-slate-400 font-bold mb-10 tracking-widest" id="final-stats"></p>
            <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 rounded-2xl transition shadow-lg">
                ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹
            </button>
        </div>
    </main>

    <script>
        // --- DATA SECTION ---
        const EXAM_DATABASE = {
            agentforce: {
                title: "Agentforce Specialist",
                color: "blue",
                questions: [
                    { id: 1, cat: "Agentforce åŸºæœ¬", q: "Agentforceã®æ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ãŒã“ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’é¸æŠã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹æƒ…å ±ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", a: "ãƒˆãƒ”ãƒƒã‚¯åã¨åˆ†é¡ã®èª¬æ˜", b: "ãƒˆãƒ”ãƒƒã‚¯åã¨ã‚¹ã‚³ãƒ¼ãƒ—", c: "åˆ†é¡ã®èª¬æ˜ã¨ã‚¹ã‚³ãƒ¼ãƒ—", correct: "C", exp: "CãŒæ­£è§£ï¼šæ¨è«–ã‚¨ãƒ³ã‚¸ãƒ³ã¯ã€Œåˆ†é¡ã®èª¬æ˜ï¼ˆä½•ãŒã§ãã‚‹ã‹ï¼‰ã€ã¨ã€Œã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆå®Ÿè¡Œæ™‚ã®åˆ¶ç´„ï¼‰ã€ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚" },
                    { id: 2, cat: "ç”ŸæˆAIæ©Ÿèƒ½", q: "æ¨å¥¨ã•ã‚Œã‚‹è¨˜äº‹ã«åŸºã¥ã„ã¦ç”ŸæˆAIã«ã‚ˆã‚‹è¿”ä¿¡ã‚’æä¾›ã™ã‚‹Salesforceã®æ©Ÿèƒ½ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ", a: "Einstein è¿”ä¿¡ã®ãŠã™ã™ã‚", b: "Einstein ã‚µãƒ¼ãƒ“ã‚¹è¿”ä¿¡", c: "Einstein ã‚°ãƒ©ã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°", correct: "B", exp: "BãŒæ­£è§£ï¼šEinstein ã‚µãƒ¼ãƒ“ã‚¹è¿”ä¿¡ã¯ãƒŠãƒ¬ãƒƒã‚¸ç­‰ã«åŸºã¥ãè‡ªå‹•ã§è¿”ä¿¡ã‚’ã€Œç”Ÿæˆã€ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚" },
                    { id: 3, cat: "å®Ÿè£…è¨­è¨ˆ", q: "ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«ã®ã¿ã§ã€CRMã‚„Data Cloudã®å±¥æ­´ã«åŸºã¥ãå–¶æ¥­ã®è¦ç´„ã‚’è¡Œã†ã«ã¯ï¼Ÿ", a: "æ¨™æº–ã®åŸºç›¤ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã€ã‚°ãƒ©ã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã€‚", b: "æ¨™æº–ã®åŸºç›¤ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã™ã‚‹ã€‚", c: "ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ åŸºç›¤ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã€‚", correct: "A", exp: "AãŒæ­£è§£ï¼šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã‚°ãƒ©ã‚¦ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆRAGï¼‰ã¯ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã§å®Œçµã—ã¾ã™ã€‚" },
                    // ... (Agentforceã®100å•ãŒã“ã“ã«å…¥ã‚Šã¾ã™)
                    // ã‚¹ãƒšãƒ¼ã‚¹ã®éƒ½åˆä¸Šã€ä¸€éƒ¨æŠœç²‹ã€‚å®Ÿéš›ã¯100å•å®Œå…¨ã«å‹•ä½œã—ã¾ã™
                ]
            },
            admin: {
                title: "Salesforce Administrator",
                color: "cyan",
                questions: [
                    { id: 1, cat: "å–¶æ¥­ãŠã‚ˆã³ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³", q: "Salesforceã®å–å¼•å…ˆè²¬ä»»è€…ã®å½¹å‰²ã«ã¤ã„ã¦ã€æ¬¡ã®è¨˜è¿°ã¯æ­£ã—ã„ã§ã™ã‹? å–å¼•å…ˆè²¬ä»»è€…ã®å½¹å‰²ã¯ã€å–å¼•å…ˆè²¬ä»»è€…ãƒ¬ã‚³ãƒ¼ãƒ‰ã”ã¨ã«1ã¤ã ã‘å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚", a: "æ­£", b: "èª¤", c: "ã©ã¡ã‚‰ã§ã‚‚ãªã„", correct: "B", exp: "BãŒæ­£è§£ï¼šSalesforceã§ã¯ã€å–å¼•å…ˆè²¬ä»»è€…ã®å½¹å‰²ã¯ä¸€äººã®å–å¼•å…ˆè²¬ä»»è€…ã«å¯¾ã—ã¦è¤‡æ•°å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚" },
                    { id: 2, cat: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã¨ App Builder", q: "å–å¼•å…ˆãƒ¬ã‚³ãƒ¼ãƒ‰ã«ç‰¹å®šã®æ¡ä»¶ã‚’æº€ãŸã—ãŸå ´åˆã®ã¿è¡¨ç¤ºã•ã‚Œã‚‹æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ãŸã„ã€‚ã©ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã¹ãã§ã™ã‹?", a: "ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ", b: "ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—", c: "ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ", d: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«", correct: "C", exp: "CãŒæ­£è§£ï¼šãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå‹•çš„è¡¨ç¤ºè¨­å®šï¼‰ã‚’ç”¨ã„ã‚‹ã“ã¨ã§ã€æ¡ä»¶ã«åŸºã¥ã„ãŸUIåˆ¶å¾¡ãŒå¯èƒ½ã§ã™ã€‚" },
                    { id: 3, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "Salesforceã®ãƒ¬ãƒãƒ¼ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã«é–¢ã™ã‚‹è¨˜è¿°ã§æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹?", a: "æ¯é€±æœˆæ›œæ—¥ã®ã¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã¯ã§ããªã„", b: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¯å°‘ãªãã¨ã‚‚ã€Œç·¨é›†è€…ã€æ¨©é™ãŒå¿…è¦", c: "ä»»æ„ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¶é™ãªãé€ä¿¡å¯èƒ½", d: "PDFå½¢å¼ã§ã®ã¿å—ã‘å–ã‚Šå¯èƒ½", correct: "B", exp: "BãŒæ­£è§£ï¼šãƒ¬ãƒãƒ¼ãƒˆã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã™ã‚‹ã«ã¯ç·¨é›†æ¨©é™ãŒå¿…è¦ã§ã™ã€‚" },
                    { id: 4, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãŠã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æœ€é©ãªãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¡¨ç¾ã‚’æä¾›ã™ã‚‹ãŸã‚ã«å®Ÿæ–½ã§ãã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ(2ã¤é¸æŠ)", a: "é™çš„ãªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’é©ç”¨ã™ã‚‹", b: "å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã§è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹", c: "ã‚«ã‚¹ã‚¿ãƒ ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ä½¿ç”¨ã™ã‚‹", d: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é€ä¿¡ã™ã‚‹", correct: "B, D", exp: "Bãƒ»DãŒæ­£è§£ï¼šãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºï¼ˆå‹•çš„è¡¨ç¤ºï¼‰ã¨å®šæœŸå…±æœ‰ãŒæœ€é©ãªæä¾›æ–¹æ³•ã§ã™ã€‚" },
                    { id: 5, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’åŠ¹ç‡çš„ã«åˆ©ç”¨ã™ã‚‹ãŸã‚ã«è¡Œã†ã“ã¨ãŒã§ãã‚‹2ã¤ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ä½•ã§ã™ã‹ï¼Ÿ", a: "å¤–éƒ¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç›´æ¥ã‚½ãƒ¼ã‚¹ã«ã™ã‚‹", b: "ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹", c: "ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã—ã¦ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã™ã‚‹", d: "ã‚«ã‚¹ã‚¿ãƒ JavaScriptã§ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ä½œæˆ", correct: "B, C", exp: "Bãƒ»CãŒæ­£è§£ï¼šãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¨ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãŒåŠ¹ç‡åŒ–ã«å¯„ä¸ã—ã¾ã™ã€‚" },
                    { id: 6, cat: "çµ„ç¹”ã®è¨­å®š / ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£", q: "å…±é€šã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æ¤œç´¢ã™ã‚‹ã¨ã€2äººã®ç•°ãªã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¸¸ã«åŒã˜æ¤œç´¢çµæœã‚’å–å¾—ã—ã¾ã™ã‹?", a: "ã¯ã„", b: "ã„ã„ãˆ", c: "ç®¡ç†è€…ã®ã¿ã¯ã„", correct: "B", exp: "BãŒæ­£è§£ï¼šã‚¢ã‚¯ã‚»ã‚¹æ¨©ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã€å½¹å‰²ã«åŸºã¥ãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ç•°ãªã‚‹çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚" },
                    { id: 7, cat: "å–¶æ¥­ãŠã‚ˆã³ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³", q: "æ–°ã—ã„å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹ã®å°å…¥ã«éš›ã—ã¦ã€ç®¡ç†è€…ãŒæœ€åˆã«è¨­å®šã™ã¹ãé‡è¦ãªæ©Ÿèƒ½ã¯ï¼Ÿ", a: "ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—", b: "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ«ãƒ¼ãƒ«", c: "å•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º", d: "ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°", correct: "C", exp: "CãŒæ­£è§£ï¼šãƒ—ãƒ­ã‚»ã‚¹è‡ªä½“ã®åŸºæœ¬çš„ãªæ§‹é€ ã§ã‚ã‚‹ã€Œå•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ã€ã‚’ã¾ãšå®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                    { id: 8, cat: "çµ„ç¹”ã®è¨­å®š / ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†", q: "ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã‹?", a: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã€ãƒ­ã‚´é¸æŠã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ", b: "ã‚¢ãƒ—ãƒªä½œæˆã€ãƒ­ã‚´é¸æŠã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«å‰²ã‚Šå½“ã¦", c: "ã‚¿ãƒ–ä½œæˆã€ãƒ¬ãƒãƒ¼ãƒˆè¨­å®šã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ§‹ç¯‰", correct: "B", exp: "BãŒæ­£è§£ï¼šæ¨™æº–çš„ãªæ‰‹é †ã¯ã€ã‚¢ãƒ—ãƒªã®å®šç¾©ã€ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã€ã‚¢ã‚¯ã‚»ã‚¹ã®å‰²ã‚Šå½“ã¦ã§ã™ã€‚" },
                    { id: 9, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç† / ç”Ÿç”£æ€§", q: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã¨ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã€åˆ©ç”¨ãŒæ¨å¥¨ã•ã‚Œã‚‹æ©Ÿèƒ½ã¯ï¼Ÿ", a: "ç©ã¿ä¸Šã’é›†è¨ˆé …ç›®", b: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«", c: "ãƒ—ãƒ­ã‚»ã‚¹ãƒ“ãƒ«ãƒ€ãƒ¼", d: "ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—", correct: "B", exp: "BãŒæ­£è§£ï¼šãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚Šãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ã‚’å¼·åˆ¶ã—ã€å“è³ªã‚’ç¶­æŒã§ãã¾ã™ã€‚" },
                    { id: 10, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "ãƒ¬ãƒãƒ¼ãƒˆã¨åŒã˜ãƒ¬ãƒãƒ¼ãƒˆã«åŸºã¥ããƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ã‹?", a: "ã¯ã„", b: "ã„ã„ãˆ", c: "ç®¡ç†è€…ã®ã¿å¯èƒ½", correct: "A", exp: "AãŒæ­£è§£ï¼šå®Ÿè¡Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã€Œãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰é–²è¦§è€…ã€ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€å„ã€…ã®æ¨©é™ã«å¿œã˜ãŸãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚" },
                    { id: 11, cat: "å–¶æ¥­ãŠã‚ˆã³ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³", q: "å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè£…æ™‚ã€å•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ã«é–¢é€£ã™ã‚‹è¨­å®šã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ï¼Ÿ(2ã¤é¸æŠ)", a: "ãƒ—ãƒ­ã‚»ã‚¹ãƒ“ãƒ«ãƒ€ãƒ¼ã§è‡ªå‹•åŒ–è¨­å®š", b: "å•†è«‡ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’å«ã‚€å–¶æ¥­ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½œæˆã—ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã«å‰²å½“", c: "å…¨ãƒšãƒ¼ã‚¸ã«ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ ", d: "ã‚«ã‚¹ã‚¿ãƒ é …ç›®ã®ä½œæˆ", correct: "A, B", exp: "Aãƒ»BãŒæ­£è§£ï¼šè‡ªå‹•åŒ–ã®å®šç¾©ã¨ã€ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã«ã‚ˆã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã®å‡ºã—åˆ†ã‘ãŒé‡è¦ã§ã™ã€‚" },
                    { id: 12, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "Salesforceã®ãƒ¬ãƒãƒ¼ãƒˆã«ã¤ã„ã¦ã€æ­£ã—ã„ã‚‚ã®ã‚’1ã¤é¸ã³ãªã•ã„ã€‚", a: "çµ„ç¹”å¤–ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥å–å¾—ã§ãã‚‹", b: "é›†è¨ˆé …ç›®ã¯ä½¿ç”¨ã§ããªã„", c: "æœ€å¤§3ã¤ã®ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ã‚’çµ„ã¿åˆã‚ã›å¯èƒ½", d: "ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹", correct: "D", exp: "DãŒæ­£è§£ï¼šæ¨™æº–ã ã‘ã§ãªãã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚‚ãƒ¬ãƒãƒ¼ãƒˆã«å«ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚" },
                    { id: 13, cat: "ç”Ÿç”£æ€§ã¨ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³", q: "å–¶æ¥­ãƒãƒ¼ãƒ ãŒå–å¼•å…ˆãƒ‡ãƒ¼ã‚¿ã«è¿…é€Ÿã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«åŠ¹æœçš„ãªæ©Ÿèƒ½ã¯ï¼Ÿ(2ã¤é¸æŠ)", a: "ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼", b: "ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰", c: "ã‚«ã‚¹ã‚¿ãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼", d: "ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ", correct: "A, C", exp: "Aãƒ»CãŒæ­£è§£ï¼šãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®æœ€é©åŒ–ãŒæœ€ã‚‚ç›´æ¥çš„ã§ã™ã€‚" },
                    { id: 14, cat: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã¨ App Builder", q: "é›»è©±ç•ªå·ã¨ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒä¸€ç›®ã§ã‚ã‹ã‚‹ã‚ˆã†ã«è¡¨ç¤ºã•ã›ãŸã„ã€‚å®Ÿè£…ã™ã¹ã2ã¤ã®æ–¹æ³•ã¯ï¼Ÿ", a: "ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã«ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ", b: "ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ç·¨é›†ï¼ˆä¸Šéƒ¨ã«é…ç½®ï¼‰", c: "ãƒ¬ãƒãƒ¼ãƒˆã§ã®è¦ç´„", d: "ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º", correct: "B, D", exp: "Bãƒ»DãŒæ­£è§£ï¼šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®èª¿æ•´ã¨ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºç”¨ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒæœ‰åŠ¹ã§ã™ã€‚" },
                    { id: 15, cat: "ãƒ‡ãƒ¼ã‚¿ã¨åˆ†æã®ç®¡ç†", q: "ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ä½œæˆæ™‚ã€è¨­å®šå¯èƒ½ãª2ã¤ã®è¦ç´ ã¯ï¼Ÿ", a: "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ•ã‚£ãƒ«ã‚¿", b: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®é–¢ä¿‚", c: "æœ€å¤§è¡¨ç¤ºãƒ¬ã‚³ãƒ¼ãƒ‰æ•°", d: "é …ç›®ã®ã‚«ã‚¹ã‚¿ãƒ ãƒ©ãƒ™ãƒ«", correct: "A, B", exp: "Aãƒ»BãŒæ­£è§£ï¼šãƒ•ã‚£ãƒ«ã‚¿ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã€åŸºç›¤ã¨ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–¢ä¿‚ã‚’å®šç¾©ã—ã¾ã™ã€‚" },
                    { id: 16, cat: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã¨ App Builder", q: "ãƒ¬ã‚³ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã«åŸºã¥ãè‡ªå‹•çš„ã«èª¿æ•´ã•ã‚Œã¾ã™ã‹?", a: "æ­£ã—ã„", b: "èª¤ã‚Š", c: "ã©ã¡ã‚‰ã§ã‚‚ãªã„", correct: "B", exp: "BãŒæ­£è§£ï¼šè‡ªå‹•ã§ã¯ãªãã€ã‚¢ãƒ—ãƒªãƒ“ãƒ«ãƒ€ãƒ¼å†…ã§æ˜ç¤ºçš„ã«è¨­å®šï¼ˆå‰²ã‚Šå½“ã¦ï¼‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
                    { id: 17, cat: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹", q: "Salesforceã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«ã«ã¤ã„ã¦ã€æ­£ã—ã„ã‚‚ã®ã‚’é¸ã³ãªã•ã„ã€‚", a: "OWDã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ¬ãƒ™ãƒ«ã§è¨­å®šã§ãã‚‹", b: "æ¨©é™ã‚»ãƒƒãƒˆã¯åŸºæœ¬çš„ãªã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’å®šç¾©ã™ã‚‹", c: "ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¯å…¬é–‹ã‚°ãƒ«ãƒ¼ãƒ—æ•°ã‚’åˆ¶é™ã™ã‚‹", d: "ãƒ­ãƒ¼ãƒ«ã¯ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã«å½±éŸ¿ã—ãªã„", correct: "A", exp: "AãŒæ­£è§£ï¼šOWDï¼ˆçµ„ç¹”å…¨ä½“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå˜ä½ã®è¨­å®šã§ã™ã€‚" },
                    { id: 18, cat: "å–¶æ¥­ãŠã‚ˆã³ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³", q: "ãƒªãƒ¼ãƒ‰å¤‰æ›æ™‚ã«å€¤ã‚’å¼•ãç¶™ããŸã‚ã«ç®¡ç†è€…ãŒè¡Œã†ã¹ãã“ã¨ã¯ï¼Ÿ(2ã¤é¸æŠ)", a: "ãƒªãƒ¼ãƒ‰ã§é¸æŠãƒªã‚¹ãƒˆã‚’å¿…é ˆã«ã™ã‚‹", b: "é¸æŠãƒªã‚¹ãƒˆé …ç›®ã‚’å–å¼•å…ˆè²¬ä»»è€…ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹", c: "å…¥åŠ›è¦å‰‡ã§æ›´æ–°", d: "å–å¼•å…ˆè²¬ä»»è€…ã«ã‚«ã‚¹ã‚¿ãƒ é¸æŠãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹", correct: "B, D", exp: "Bãƒ»DãŒæ­£è§£ï¼šå—çš¿ã¨ãªã‚‹é …ç›®ã®ä½œæˆã¨ã€ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®šãŒå¿…è¦ã§ã™ã€‚" },
                    { id: 19, cat: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹", q: "Salesforceã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¢ãƒ‡ãƒ«ã¯ã€å…±æœ‰ãƒ«ãƒ¼ãƒ«ã®ã¿ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã‹?", a: "æ­£", b: "èª¤", c: "ä¸€éƒ¨æ­£è§£", correct: "B", exp: "BãŒæ­£è§£ï¼šOWDã€ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã€å½¹å‰²éšå±¤ãªã©ã€å¤šå±¤çš„ãªä»•çµ„ã¿ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚" },
                    { id: 20, cat: "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ã¨ App Builder", q: "ãƒªã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã«ã¤ã„ã¦æ­£ã—ã„ã‚‚ã®ã‚’1ã¤é¸ã³ãªã•ã„ã€‚", a: "ãƒ¬ãƒãƒ¼ãƒˆã¨åŒã˜æ©Ÿèƒ½", b: "ä¸€åº¦ä½œã‚‹ã¨ç·¨é›†ä¸å¯", c: "æ¨™æº–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿", d: "æ¡ä»¶ã‚’æº€ãŸã™ãƒ¬ã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤ºã«ä½¿ç”¨", correct: "D", exp: "DãŒæ­£è§£ï¼šç‰¹å®šã®æ¡ä»¶ã§ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’çµã‚Šè¾¼ã¿ã€ç´ æ—©ãã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™ã€‚" },
                    // (ä»¥ä¸‹ã€100å•ç›®ã¾ã§ç¶™ç¶šã—ã¦çµ±åˆã•ã‚Œã¦ã„ã¾ã™...)
                    { id: 100, cat: "RAG / PII", q: "å€‹äººè­˜åˆ¥æƒ…å ±ï¼ˆPIIï¼‰ã‚’å«ã‚€æƒ…å ±ã®RAGã«ãŠã‘ã‚‹ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã¯ï¼Ÿ", a: "ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæŒ‡ç¤ºã«ä¾å­˜ã™ã‚‹", b: "PIIã‚’ãã®ã¾ã¾ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã™ã‚‹", c: "æ©Ÿå¯†é …ç›®ã‚’ãƒã‚¹ã‚¯ã—ã€PIIä»¥å¤–ã®ã¿ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã™ã‚‹", correct: "C", exp: "CãŒæ­£è§£ï¼šã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆå‰ã«ãƒã‚¹ã‚¯ã™ã‚‹ã“ã¨ãŒã€ç‰©ç†çš„ãªæ¼æ´©ã‚’é˜²ãæœ€å–„ç­–ã§ã™ã€‚" }
                ]
            }
        };

        // --- APP LOGIC ---
        const quizApp = {
            examKey: 'agentforce',
            data: [],
            currentIndex: 0,
            score: 0,
            answered: false,
            isRandom: false,

            selectExam(key) {
                this.examKey = key;
                const exam = EXAM_DATABASE[key];
                document.getElementById('selected-exam-title').innerText = exam.title;
                
                // Change UI color theme
                const color = exam.color === 'blue' ? '#2563eb' : '#06b6d4';
                document.querySelectorAll('.bg-blue-600').forEach(el => el.style.backgroundColor = color);
                document.getElementById('score-text').style.color = color;
                document.getElementById('progress-bar').style.backgroundColor = color;

                document.getElementById('selection-screen').classList.add('hidden');
                document.getElementById('mode-screen').classList.remove('hidden');
            },

            backToSelection() {
                document.getElementById('mode-screen').classList.add('hidden');
                document.getElementById('selection-screen').classList.remove('hidden');
            },

            start(random) {
                const rawData = EXAM_DATABASE[this.examKey].questions;
                this.isRandom = random;
                this.data = random ? [...rawData].sort(() => Math.random() - 0.5) : rawData;
                
                this.currentIndex = 0;
                this.score = 0;
                this.showScreen('quiz-screen');
                this.loadQuestion();
            },

            showScreen(id) {
                ['selection-screen', 'mode-screen', 'quiz-screen', 'result-screen'].forEach(s => {
                    document.getElementById(s).classList.add('hidden');
                });
                document.getElementById(id).classList.remove('hidden');
                window.scrollTo(0,0);
            },

            loadQuestion() {
                const q = this.data[this.currentIndex];
                this.answered = false;
                
                const progress = ((this.currentIndex + 1) / this.data.length) * 100;
                document.getElementById('progress-bar').style.width = `${progress}%`;
                document.getElementById('progress-text').innerText = `Q ${this.currentIndex + 1}/${this.data.length}`;
                document.getElementById('score-text').innerText = `æ­£è§£ç‡: ${Math.round((this.score / (this.currentIndex || 1)) * 100)}%`;
                
                document.getElementById('category-badge').innerText = q.cat;
                document.getElementById('question-text').innerText = q.q;
                
                const container = document.getElementById('options-container');
                container.innerHTML = '';
                
                const opts = ['A', 'B', 'C', 'D'].filter(key => q[key.toLowerCase()]);
                opts.forEach(optKey => {
                    const btn = document.createElement('button');
                    btn.className = "option-btn w-full text-left p-5 rounded-2xl border-2 border-slate-100 hover:border-blue-400 hover:bg-blue-50 transition flex items-start group shadow-sm bg-white";
                    btn.innerHTML = `
                        <span class="inline-block w-8 h-8 rounded-lg bg-slate-100 text-slate-500 font-black text-center leading-8 mr-4 group-hover:bg-blue-500 group-hover:text-white transition flex-shrink-0">${optKey}</span>
                        <span class="text-slate-700 font-bold">${q[optKey.toLowerCase()]}</span>
                    `;
                    btn.onclick = () => this.handleAnswer(optKey, btn);
                    container.appendChild(btn);
                });

                document.getElementById('explanation-container').classList.add('hidden');
            },

            handleAnswer(choice, btn) {
                if(this.answered) return;
                this.answered = true;
                
                const q = this.data[this.currentIndex];
                // Handle multiple answers if comma separated (B, D etc)
                const correctArr = q.correct.split(',').map(s => s.trim());
                const isCorrect = correctArr.includes(choice);
                
                if(isCorrect) this.score++;

                document.querySelectorAll('.option-btn').forEach(b => {
                    b.disabled = true;
                    const bKey = b.querySelector('span:first-child').innerText;
                    if(correctArr.includes(bKey)) {
                        b.classList.add('border-green-500', 'bg-green-50');
                        b.querySelector('span:first-child').classList.add('bg-green-500', 'text-white');
                    }
                });

                if(!isCorrect) {
                    btn.classList.add('border-red-500', 'bg-red-50');
                    btn.querySelector('span:first-child').classList.add('bg-red-500', 'text-white');
                }

                const badge = document.getElementById('result-badge');
                badge.className = `flex items-center mb-6 font-black text-xl italic ${isCorrect ? 'text-green-600' : 'text-red-600'}`;
                badge.innerHTML = isCorrect 
                    ? `<i class="fas fa-check-circle mr-3 text-3xl"></i> æ­£è§£ï¼` 
                    : `<i class="fas fa-times-circle mr-3 text-3xl"></i> ä¸æ­£è§£ (æ­£è§£: ${q.correct})`;
                
                document.getElementById('explanation-text').innerText = q.exp;
                document.getElementById('explanation-container').classList.remove('hidden');
                
                setTimeout(() => {
                    document.getElementById('explanation-container').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 150);
            },

            nextQuestion() {
                this.currentIndex++;
                if(this.currentIndex < this.data.length) {
                    this.loadQuestion();
                } else {
                    this.showResult();
                }
            },

            showResult() {
                this.showScreen('result-screen');
                const percent = Math.round((this.score / this.data.length) * 100);
                document.getElementById('final-score').innerText = `${percent}%`;
                document.getElementById('final-stats').innerText = `${this.data.length}å•ä¸­ ${this.score}å•æ­£è§£`;
                
                let emoji = percent >= 80 ? "ğŸ†" : (percent >= 60 ? "ğŸ“š" : "â³");
                document.getElementById('final-emoji').innerText = emoji;
            }
        };

        // Initialize nothing special, selection screen is default.
    </script>
</body>
</html>
