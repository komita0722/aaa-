<index.html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentforce Specialist Quiz 100</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f8fafc; }
        .option-btn:disabled { cursor: not-allowed; opacity: 0.7; }
        .progress-bar { transition: width 0.3s ease; }
        .whitespace-pre-wrap { white-space: pre-wrap; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-8">

    <!-- Header -->
    <header class="w-full max-w-2xl mb-6 text-center">
        <h1 class="text-2xl md:text-3xl font-bold text-slate-800 mb-2">
            <i class="fas fa-robot text-blue-600 mr-2"></i>Agentforce Specialist Quiz
        </h1>
        <p class="text-slate-500 text-sm font-bold">Salesforce AI 100問ノック完全版</p>
    </header>

    <!-- Main Content -->
    <main id="app-container" class="w-full max-w-2xl">
        <!-- Start Screen -->
        <div id="start-screen" class="bg-white rounded-2xl shadow-xl p-8 text-center border border-slate-200">
            <div class="mb-6 text-6xl text-blue-500">
                <i class="fas fa-graduation-cap"></i>
            </div>
            <h2 class="text-xl font-bold mb-4">学習を開始しましょう</h2>
            <p class="text-slate-600 mb-8 font-medium">全100問のクイズでAgentforceの知識を完璧にします。</p>
            <div class="space-y-3">
                <button onclick="quizApp.start(false)" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition shadow-lg">
                    最初から解く (No.1〜100)
                </button>
                <button onclick="quizApp.start(true)" class="w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-4 rounded-xl transition">
                    ランダムに出題
                </button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <!-- Stats & Progress -->
            <div class="flex justify-between items-end mb-2 px-1">
                <span id="progress-text" class="text-sm font-bold text-slate-500 tracking-wider uppercase">QUESTION 1/100</span>
                <span id="score-text" class="text-sm font-bold text-blue-600">SCORE: 0%</span>
            </div>
            <div class="w-full bg-slate-200 h-2 rounded-full mb-6 overflow-hidden">
                <div id="progress-bar" class="progress-bar bg-blue-500 h-full w-0"></div>
            </div>

            <div class="bg-white rounded-2xl shadow-xl p-6 md:p-8 border border-slate-200">
                <!-- Category Badge -->
                <div id="category-badge" class="inline-block px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-xs font-bold mb-4 uppercase tracking-widest">
                    CATEGORY
                </div>
                
                <!-- Question -->
                <h3 id="question-text" class="text-lg md:text-xl font-bold text-slate-800 mb-8 leading-relaxed">
                    問題が読み込まれます...
                </h3>

                <!-- Options -->
                <div id="options-container" class="space-y-4">
                    <!-- Buttons will be injected here -->
                </div>

                <!-- Explanation Section -->
                <div id="explanation-container" class="hidden mt-8 pt-8 border-t border-slate-100">
                    <div id="result-badge" class="flex items-center mb-4 font-bold text-lg">
                        <!-- Icon and Text injected here -->
                    </div>
                    <div id="explanation-text" class="text-slate-600 text-sm md:text-base leading-relaxed whitespace-pre-wrap bg-slate-50 p-4 rounded-xl border border-slate-100 font-medium">
                        <!-- Content injected here -->
                    </div>
                    <button onclick="quizApp.nextQuestion()" class="mt-6 w-full bg-slate-800 hover:bg-black text-white font-bold py-4 rounded-xl transition shadow-md">
                        次の問題へ <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden bg-white rounded-2xl shadow-xl p-8 text-center border border-slate-200">
            <h2 class="text-2xl font-bold mb-2">お疲れ様でした！</h2>
            <div class="text-6xl my-8" id="final-emoji">🏆</div>
            <div class="text-4xl font-black text-blue-600 mb-2" id="final-score">0%</div>
            <p class="text-slate-500 mb-8 font-bold" id="final-stats">100問中 0問正解</p>
            <button onclick="location.reload()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-xl transition">
                もう一度挑戦する
            </button>
        </div>
    </main>

    <footer class="mt-12 text-slate-400 text-xs pb-8 text-center">
        &copy; 2026 Agentforce Master Quiz Portal | 100 Questions Loaded
    </footer>

    <script>
        const QUIZ_DATA = [
            { id: 1, cat: "Agentforce 基本", q: "Agentforceの推論エンジンがこのトピックを選択するために使用する情報はどれですか？", a: "A. トピック名と分類の説明", b: "B. トピック名とスコープ", c: "C. 分類の説明とスコープ", correct: "C", exp: "Cが正解： Agentforceの推論エンジンは、ユーザーの要求に最適なトピックを判断するために、これら2つの重要な情報を利用します。\n「分類の説明」はどのような意図を処理できるかを定義し、「スコープ」はタスクを実行する際の具体的な指示や制約をAIに提供します。\n\nAが不正解： 「トピック名」は主に管理者向けの管理ラベルであり、AIの推論ロジックで使用される主要な情報ではありません。" },
            { id: 2, cat: "生成AI機能", q: "推奨される記事に基づいて生成AIによる返信やEメールの下書きを提供するSalesforceの機能はどれですか？", a: "A. Einstein 返信のおすすめ", b: "B. Einstein サービス返信", c: "C. Einstein グラウンディング", correct: "B", exp: "Bが正解： Einstein サービス返信は Service GPTの一部であり、ナレッジ記事やその他の信頼できるソースに基づいて、返信やEメールの下書きを自動的に「生成」する機能です。\n\nAが不正解： 推奨はしますが「生成」は行わない補助機能です。\nCが不正解： グラウンディングは信頼性を保証するための技術やプロセスを指します。" },
            { id: 3, cat: "実装設計", q: "ノーコードツールのみで、CRMやData Cloudの履歴に基づき営業の電話準備を支援（要約）するには？", a: "A. 標準の基盤モデルを使用し、CRMデータとData Cloudデータに基づいてグラウンディングされたプロンプトテンプレートを使用する。", b: "B. データの複雑さから、標準の基盤モデルをファインチューニングする。", c: "C. 最初にこのデータに関してUC独自のカスタム基盤モデルをデプロイする。", correct: "A", exp: "Aが正解： このアプローチは「ノーコードツールのみ」という要件に合致しています。グラウンディング（RAG）によって情報をAIに提供することで、コードを書かずに要約が可能になります。\n\nB・Cが不正解： ファインチューニングやBYOMは高度な開発リソースを必要とするプロコードの手法です。" },
            { id: 4, cat: "Agentforce", q: "キャンセル実行と、再予約に関する記事の確認を同時に達成するAgentforceの機能は？", a: "A. ナレッジ記事を作成するために外部データを呼び出すフローを起動する。", b: "B. 利用可能なアクションに基づいてToDoを実行し、アクセス可能なナレッジ記事の情報を使用して質問に回答する。", c: "C. 手順を作成するためにエージェントが入力するプロンプトに基づいて、ナレッジ記事を生成する。", correct: "B", exp: "Bが正解： Agentforceは、Salesforce内のアクション実行能力と、既存のナレッジ記事を参照して回答する能力の両方を備えているため、これが正解です。\n\nA・Cが不正解： 記事の「作成」や「生成」は要件（既存記事の確認）に合いません。" },
            { id: 5, cat: "実装設計", q: "ノーコードツールのみで、過去の購入履歴や会話の要約を提供し、電話準備を支援するには？", a: "A. 最初にこのデータに関してUC独自のカスタム基盤モデルをデプロイする。", b: "B. データの複雑さから、標準の基盤モデルをファインチューニングする。", c: "C. 標準の基盤モデルを使用し、CRMデータとData Cloudデータに基づいてグラウンディングされたプロンプトテンプレートを使用する。", correct: "C", exp: "Cが正解： プロンプトテンプレートとグラウンディング（RAG）を組み合わせることで、最新データをリアルタイムでAIに提供でき、ノーコードで完結します。" },
            { id: 6, cat: "デプロイ", q: "独自LLMを使用するプロンプトをサンドボックスから本番へデプロイする際、エラーが発生する原因は？", a: "A. プロンプトがカスタムLLMであることを指定していない。", b: "B. BYOLLMは本番環境のプロンプトではまだサポートされていない。", c: "C. LLMの名前がサンドボックスと本番環境で一致しない。", correct: "C", exp: "Cが正解： プロンプトテンプレートは依存するLLMの「名前（API参照名）」を保持しています。本番環境に一致する名前のLLM設定がない場合、デプロイに失敗します。" },
            { id: 7, cat: "音声AI", q: "「Call Explorer」を有効にする前に、Agentforceスペシャリストは何に注意すべきですか？", a: "A. Call Explorerはナレッジとは独立して動作し、事前の設定は不要である。", b: "B. カスタムのCall Explorerアクションを構築する必要がある。", c: "C. Call Explorerには、Einstein Conversation Insights（ECI）権限セットが有効である必要がある。", correct: "C", exp: "Cが正解： Call ExplorerはECIのコンポーネントであり、利用にはECI権限セットの割り当てが必須です。" },
            { id: 8, cat: "Einstein Studio", q: "Einstein Studio経由で外部の基盤モデルに接続することを推奨するビジネス要件はどれ？", a: "A. UCはモデルの「温度（temperature）」をファインチューニングしたい。", b: "B. UCは自社のデータを使用してファインチューニングされたモデルを求めている。", c: "C. UCはモデルの「頻度ペナルティ（frequency penalty）」を変更したい。", correct: "B", exp: "Bが正解： Einstein Studioは、外部プラットフォームで構築した独自モデル（BYOM）をSalesforceに接続するために使用されます。" },
            { id: 9, cat: "アクション", q: "過去の成功したやり取りに基づいてテキストを生成し、パーソナライズされたEメール作成を支援するのは？", a: "A. エージェントアクション: 類似の商談を検索", b: "B. エージェントアクション: 営業Eメールの下書きまたは修正", c: "C. エージェントアクション: レコードの要約", correct: "B", exp: "Bが正解： 営業コンテキストに特化してEメールの下書きを「生成」するために設計された標準アクションです。" },
            { id: 10, cat: "プロンプト管理", q: "プロンプトテンプレートのバージョンが「イミュータブル（不変）」であるとはどういう意味？", a: "A. テンプレートの最新バージョンのみが有効化できる。", b: "B. すべての変更は、自動的に新しいバージョンとして保存される。", c: "C. バージョンが有効化されると、そのバージョンにはそれ以上の変更を保存できなくなる。", correct: "C", exp: "Cが正解： 「イミュータブル（immutable）」とは変更不可能という意味です。有効化されたバージョンはロックされ、直接編集はできません。" },
            { id: 11, cat: "デプロイ", q: "エージェントアクションで呼び出すApexをデプロイする際の重要な考慮事項は何ですか？", a: "A. Apexクラスは単体テストによるコードカバレッジが75%以上である必要がある。", b: "B. 有効化されていない限り、75%未満のカバレッジでデプロイできる。", c: "C. Agentforce専用であれば、75%のカバレッジ要件をバイパスできる。", correct: "A", exp: "Aが正解： 用途に関わらず、本番環境へのデプロイには標準のカバレッジ要件（75%以上）が強制されます。" },
            { id: 12, cat: "テスト", q: "テストセンターでテスト実行中にCRMデータを変更しないようにするためのベストプラクティスは？", a: "A. 本番環境でテストを実行する。", b: "B. テストあたりのテストケース数を50に制限する。", c: "C. テストセンターはサンドボックス環境でのみ使用する。", correct: "C", exp: "Cが正解： サンドボックスは隔離された環境であり、本番のCRMデータに影響を与えるリスクを完全に回避できます。" },
            { id: 13, cat: "音声AI", q: "製品名や競合他社名に関するインサイトを通話から得るために、UCはどう設定すべきですか？", a: "A. ECIを有効にし、録音プロバイダーを接続し、権限セットを割り当て、最大25個の製品でインサイトをカスタマイズする。", b: "B. ECIを有効にし、権限セットを割り当て、録音マネージャーを定義する。", c: "C. ECIを有効にし、営業の録音を有効にする。", correct: "A", exp: "Aが正解： インサイト取得にはECI有効化、プロバイダー接続、権限付与、キーワード設定のステップが必要です。" },
            { id: 14, cat: "監視/改善", q: "プロンプトテンプレートの効果が低い際、その有効性を確保するために何をすべきですか？", a: "A. ユーザーのフィードバックに基づいてテンプレートを監視し、改良する。", b: "B. Prompt Builder スコアカードを使用して監視を支援する。", c: "C. テンプレートのグラウンディングオブジェクトを定期的に変更する。", correct: "B", exp: "Bが正解： Prompt Builder スコアカードは、ユーザーの評価（👍等）を追跡しテンプレートの性能を分析する専用ツールです。" },
            { id: 15, cat: "プロンプト設定", q: "カスタムプロンプトテンプレートで「取引先の関連リスト」を使用する際の考慮事項は？", a: "A. テキストエンコーディングのオプション", b: "B. 関連リストの差し込み項目の最大数", c: "C. リストのXMLとJSONのレンダリング形式の選択", correct: "B", exp: "Bが正解： 性能確保とトークン制限のため、プロンプトに含められる項目数やレコード数には制限があります。" },
            { id: 16, cat: "Data Cloud", q: "ナレッジ設定における「識別項目」と「コンテンツ項目」の主な役割の違いは？", a: "A. 識別は記事特定用、コンテンツは回答生成用", b: "B. 識別は分類用、コンテンツは要約用", c: "C. 識別は用語強調用、コンテンツは全文保存用", correct: "A", exp: "Aが正解： AIは識別項目で最適な記事を「検索・特定」し、コンテンツ項目から回答を「生成」します。" },
            { id: 17, cat: "営業AI", q: "取引先、リード、商談等から主要情報を抽出して「スナップショット」を作る機能は？", a: "A. 営業サマリー", b: "B. 営業インサイトサマリー", c: "C. 作業サマリー", correct: "B", exp: "Bが正解： 複数の営業オブジェクトから重要なデータポイントを抽出し、簡潔な概要を提供する機能名です。" },
            { id: 18, cat: "プロンプト設定", q: "特定のレコードページでのみ、要約や推奨事項を使えるようにボタン配置等するには？", a: "A. モデルビルダー", b: "B. エージェントビルダー", c: "C. プロンプトビルダー", correct: "C", exp: "Cが正解： プロンプトビルダーで作成したテンプレートをレコードページに配置することで、AI生成が可能になります。" },
            { id: 19, cat: "Agentforce", q: "Agentforceを実装することによる最も主要なビジネス理由は？", a: "A. データクレンジングの改善", b: "B. ユーザー介在なしの自動実行", c: "C. 反復タスクの自動化による効率向上", correct: "C", exp: "Cが正解： 反復的な業務をAIが代行し、業務効率を抜本的に高めるのがエージェント導入の主目的です。" },
            { id: 20, cat: "Trust Layer", q: "Trust Layerの毒性スコアリングにおいて、スコア「1」は何を示していますか？", a: "A. 毒性が極めて低い", b: "B. 毒性は全く検出されていない", c: "C. 毒性が極めて高い", correct: "C", exp: "Cが正解： Trust Layerのスコアリングでは、数値が低い（1に近い）ほど毒性が高く深刻であることを示します。" },
            { id: 21, cat: "セキュリティ", q: "データマスキングの設定を検証するために、最初に行うべき手順は何ですか？", a: "A. フローデバッガを使用してデバッグする", b: "B. セキュリティ設定から監査データを要求する", c: "C. 監査データの収集と保存を有効化する", correct: "C", exp: "Cが正解： 監査データはまず有効化しないと記録が開始されないため、これが最初のステップです。" },
            { id: 22, cat: "統合", q: "テンプレートトリガーフローが外部APIから得た応答を差し込み項目として使うには？", a: "A. 外部サービスレコードの差し込み項目を使用する", b: "B. JSONをXMLに変換する", c: "C. プロンプト指示の追加フロー要素を使用する", correct: "A", exp: "Aが正解： 外部サービスを呼び出して得た応答は、外部サービスレコードタイプの差し込み項目として利用可能です。" },
            { id: 23, cat: "アクション", q: "トピックは正しく選ばれるがアクションが選ばれない際、何をテスト・反復すべき？", a: "A. アクションスコープ", b: "B. アクション指示", c: "C. 分類の説明", correct: "B", exp: "Bが正解： 「アクション指示（Instruction）」こそが、AIに実行条件を教えるマニュアルであり、ここを修正すべきです。" },
            { id: 24, cat: "統合", q: "外部Webサイトからエージェントと直接通信するためのフレームワークを提供する機能は？", a: "A. エージェント間（A2A）プロトコル", b: "B. モデルコンテキストプロトコル（MCP）", c: "C. エージェントAPI", correct: "C", exp: "Cが正解： 外部Webサイトやアプリが、Salesforceのエージェントにリクエストを送る公式な窓口は「エージェントAPI」です。" },
            { id: 25, cat: "グラウンディング", q: "プロンプトテンプレートでレコードスナップショットを利用するために必要な準備は？", a: "A. ページレイアウトを設定する", b: "B. 項目セットを作成する", c: "C. 動的フォームを有効化する", correct: "A", exp: "Aが正解： レコードスナップショットは画面上に配置されている項目を参照するため、ページレイアウト設定が必要です。" },
            { id: 26, cat: "グラウンディング", q: "プロンプトテンプレートでレコードスナップショットのグラウンディングを使用する際の考慮事項は？", a: "A. ToDoや行動などの活動は除外される。", b: "B. 空のデータは除外される。", c: "C. Eメールアドレスは除外される。", correct: "A", exp: "Aが正解： レコードスナップショット機能は、活動（ToDo/行動）の関連リストをデータソースから除外します。" },
            { id: 27, cat: "検索戦略", q: "「パッケージ」のような、文脈で意味が変わる用語に対し、精度とバランスが取れた戦略は？", a: "A. ハイブリッド検索を使用する。", b: "B. セマンティック検索のみを使用する。", c: "C. キーワード検索のみを使用する。", correct: "A", exp: "Aが正解： キーワード一致とセマンティック（文脈）理解を組み合わせるハイブリッド検索が最適です。" },
            { id: 28, cat: "監視", q: "「イベントログを会話データで強化する」設定を有効にすると、何ができるようになりますか？", a: "A. ユーザーのクリックパスを表示する。", b: "B. ユーザー入力とエージェントの応答を含むセッションデータを表示する。", c: "C. 詳細レポートを生成する。", correct: "B", exp: "Bが正解： ログに実際の会話内容（入力と応答）が記録され、詳細なデバッグが可能になります。" },
            { id: 29, cat: "権限", q: "営業担当者がプロンプトテンプレートの「実行」だけをできるようにするには？", a: "A. Prompt Execute Template 権限セット", b: "B. Prompt Template User 権限セット", c: "C. Prompt Template Manager 権限セット", correct: "B", exp: "Bが正解： 「Prompt Template User」権限セットは、実行（使用）のみを許可する標準権限です。" },
            { id: 30, cat: "動作", q: "エージェントがリクエストを理解できない、または情報を見つけられない場合、どう応答しますか？", a: "A. 事前設定されたメッセージで。", b: "B. ユーザーにリクエストの言い換えを求める、一般的なメッセージで。", c: "C. 生成されたエラーメッセージで。", correct: "B", exp: "Bが正解： AIがマッピングできない場合、再試行を促す会話的な標準メッセージを返します。" },
            { id: 31, cat: "推論制御", q: "アクションが実行される順序を「決定論的に（確実に）」制御するために推奨されるテクニックは？", a: "A. LLMのバージョンを指定する。", b: "B. カスタム変数とフィルターを指定する。", c: "C. アクションの順序を指定する。", correct: "C", exp: "Cが正解： 管理者が実行順序を明示的に指定することで、AIの判断に頼らず確実に実行させることができます。" },
            { id: 32, cat: "分析", q: "ユーザークエリを調査してパターンと傾向を特定するために、エージェントの対話を分析できる機能は？", a: "A. ユーザー発話ダッシュボード", b: "B. エージェントイベントログダッシュボード", c: "C. AI監査ダッシュボード", correct: "A", exp: "Aが正解： ユーザーが入力した生のテキストを集計・分析するための専用機能です。" },
            { id: 33, cat: "制限", q: "取引先オブジェクトのプロンプトテンプレートで「活動関連リスト」を使う際の考慮事項は？", a: "A. 活動関連リストは、それがポリモーフィック項目であるためサポートされていません。", b: "B. 個人取引先有効時は利用できなくなります。", c: "C. 関連リストがない場合、応答を返しません。", correct: "A", exp: "Aが正解： 活動は複数のオブジェクトを参照できるポリモーフィック項目であり、現在サポートされていません。" },
            { id: 34, cat: "実行制御", q: "予約ワークフロー（取得→確認→作成）の順序を「確実に」強制する実装アプローチは？", a: "A. 包括的なトピック指示を作成する。", b: "B. ステータスを保存する変数を作成し、後続アクションに条件付きフィルターを実装する。", c: "C. 優先度レベルを設定する。", correct: "B", exp: "Bが正解： 前工程の完了を変数に保持し、次工程の起動フィルター条件とすることで順序を強制できます。" },
            { id: 35, cat: "アクション設定", q: "カスタムエージェントアクションを期待通りに実行させるために最も確実に行うべき設定は？", a: "A. アクション名", b: "B. アクション入力", c: "C. アクション指示", correct: "C", exp: "Cが正解： 「アクション指示（Instruction）」こそがAIのマニュアルであり、判断の核となります。" },
            { id: 36, cat: "権限", q: "モデルを表示・管理し、かつプロンプトテンプレートを作成する必要がある担当者の権限は？", a: "A. Manager と User", b: "B. Data Cloud 管理者 と Prompt Template Manager", c: "C. User と Data Cloud 管理者", correct: "B", exp: "Bが正解： モデル管理にData Cloud 管理者、作成にManager権限が必要です。" },
            { id: 37, cat: "検索", q: "カスタムリトリーバー設定でフィルターを適用する目的は何ですか？", a: "A. 検索結果を絞り込み、返されるコンテンツの関連性を高めます。", b: "B. 機密項目を暗号化・マスキングします。", c: "C. 複数のドキュメントを要約に再フォーマットします。", correct: "A", exp: "Aが正解： フィルターで検索範囲を限定し、AIが参照する情報のノイズを除去して関連性を向上させます。" },
            { id: 38, cat: "実装サポート", q: "エージェントが製品チュートリアルやガイドについて質問できるようにするには？", a: "A. 専用のプロンプトテンプレートを作成する。", b: "B. カスタム項目を製品オブジェクトに追加する。", c: "C. 製品チュートリアルとガイドをナレッジ記事として公開する。", correct: "C", exp: "Cが正解： Agentforceはナレッジを信頼できるソースとして参照（グラウンディング）し質問に答える設計です。" },
            { id: 39, cat: "プロンプト手法", q: "苦情への返信プロンプトにおいて、応答を「共感的」にするための重要要素は？", a: "A. LLM に対して、特定の役割（キャラクター）を演じるよう直接指示すること", b: "B. 関連キーワードのリスト", c: "C. 過去の全やり取りの履歴", correct: "A", exp: "Aが正解： AIに役割（ペルソナ）を与える指示は、文章全体のトーンを一貫させるのに最も効果的です。" },
            { id: 40, cat: "タイプ", q: "マーケティングチームのキャンペーンデータ検索、ToDo管理、コンテンツ生成を支援するエージェントは？", a: "A. 営業コーチエージェント", b: "B. サービスエージェント", c: "C. 従業員エージェント", correct: "C", exp: "Cが正解： 社内従業員の業務をサポートするために設計されているのは従業員エージェントです。" },
            { id: 41, cat: "設定", q: "Flexテンプレートのプレビューがグレーアウトしている理由として正しいのは？", a: "A. プロンプトに関連するレコードが選択されていません。", b: "B. 保存および有効化されていません。", c: "C. 差し込み項目が挿入されていません。", correct: "A", exp: "Aが正解： Flexテンプレートはレコードコンテキストで動作するため、レコードの選択がプレビューに必須です。" },
            { id: 42, cat: "有効化", q: "営業チームが作成済みの営業Eメールプロンプトテンプレートを使えるようにする正しいステップは？", a: "A. Prompt Template User 権限セットを割り当て、設定で [営業Eメール] を有効にする。", b: "B. Manager 権限セットを割り当て、設定で [営業Eメール] を有効にする。", c: "C. Data Cloud Admin 権限セットを割り当てる。", correct: "A", exp: "Aが正解： 利用者にはUser権限と、組織の[設定]での機能有効化の両方が必要です。" },
            { id: 43, cat: "Data Cloud", q: "Data Cloud リトリーバーの有効なユースケースは何ですか？", a: "A. ベクトルデータベースから関連データを返し、プロンプトを拡張する。", b: "B. 外部Webサイトのデータをグラウンディングする。", c: "C. ソースシステム内のデータを変更する。", correct: "A", exp: "Aが正解： DC内のベクトル化データを検索し、プロンプトのコンテキストとして渡す（RAG）のが本来の役割です。" },
            { id: 44, cat: "自動生成", q: "Data Cloudでカスタム検索インデックスが作成されると、何が自動的に作成されますか？", a: "A. カスタム検索インデックスと同じ名前を共有するリトリーバー。", b: "B. パラメータを選択できる動的リトリーバー。", c: "C. Apexリトリーバークラス。", correct: "A", exp: "Aが正解： インデックスが作成されると、AIがそのインデックスをグラウンディングに利用できるよう同名のリトリーバーが自動生成されます。" },
            { id: 45, cat: "セキュリティ", q: "現在のAIデータマスキングルールがポリシーに合致していない場合、何をすべきですか？", a: "A. サンドボックスリフレッシュのためのデータマスキングを有効にする。", b: "B. Einstein Trust Layer の設定でデータマスキングを設定する。", c: "C. LLM設定に新しいルールを追加する。", correct: "B", exp: "Bが正解： リアルタイムの機密データ保護（マスキング）は「Einstein Trust Layer」で管理されます。" },
            { id: 46, cat: "分析", q: "エージェントのユーザビリティ（使いやすさ）に関するインサイトを提供するには、何を使用すべきですか？", a: "A. エージェントアナリティクス", b: "B. Agentforce アナリティクス", c: "C. エージェントスタジオアナリティクス", correct: "B", exp: "Bが正解： パフォーマンスや発話傾向などを監視し可視化するための専用標準ダッシュボード名です。" },
            { id: 47, cat: "SDR", q: "リード評価、育成、会議予約の自動化を24時間365日行うために実装すべき機能は？", a: "A. SDRエージェント", b: "B. 営業コーチ", c: "C. コマースエージェント", correct: "A", exp: "Aが正解： SDRエージェントはリードの評価、育成、会議設定といった初期工程の自動化に特化しています。" },
            { id: 48, cat: "検索改善", q: "古い製品バージョンの無関係な結果が多く返される問題に対し、どう対処すべきですか？", a: "A. インデックスを変更して古いレコードを削除する。", b: "B. カスタムリトリーバーを作成し、フィルターを適用する。", c: "C. デフォルトのリトリーバーの設定でフィルターを追加する。", correct: "C", exp: "Cが正解： インデックスを変更せず、リトリーバー設定のフィルターで除外するのが最も簡単で標準的な手法です。" },
            { id: 49, cat: "テスト", q: "隔離され、データ構造を保持しながらエージェントをテストしたい。どの環境を使用すべきですか？", a: "A. 個人の開発者組織", b: "B. 本番組織", c: "C. 本番環境から複製されたサンドボックス環境", correct: "C", exp: "Cが正解： サンドボックスは隔離された安全なテスト場であり、本番データを複製して現実に近いテストが可能です。" },
            { id: 50, cat: "制限", q: "プロンプトビルダーを使用する際に認識しておくべき制限事項はどれですか？", a: "A. リッチテキストエリア項目はFlexでのみサポート。", b: "B. 作成または更新は設定変更履歴に記録されません。", c: "C. カスタムオブジェクトはFlexのみサポート。", correct: "B", exp: "Bが正解： 現時点で、プロンプトテンプレートの操作履歴は標準の設定変更履歴（Audit Trail）には記録されません。" },
            { id: 51, cat: "デプロイ", q: "本番へデプロイしたフローが毎回エラー。変更セットには含まれている。最も可能性の高い原因は？", a: "A. 本番組織でフローが手動で有効化されていませんでした。", b: "B. 本番環境のユーザーに、権限がありません。", c: "C. 変更セットに、Apexクラスが含まれていませんでした。", correct: "A", exp: "Aが正解： デプロイ直後のフローはデフォルトで「無効」です。手動で「有効化」しないと呼び出せません。" },
            { id: 52, cat: "権限", q: "プロンプトでは動くが、エージェントビルダーやサイトではナレッジで回答しない。原因は？", a: "A. 「ナレッジの管理」を割り当てる。", b: "B. 権限セットに、テンプレートへのアクセス権があるか確認する。", c: "C. Data Cloud ユーザー権限セットが割り当てられていることを確認する。", correct: "C", exp: "Cが正解： エージェントのナレッジ参照はData Cloud経由であり、実行ユーザーにDC権限がないと参照に失敗します。" },
            { id: 53, cat: "LLM役割", q: "意図を理解しアクションを実行する上でのLLMの役割はどれですか？", a: "A. 類似トピックを見つけ、アクションを提供します。", b: "B. 最も一致するトピックとアクション、および正しい実行順序を特定します。", c: "C. ユーザーのトピックアクセスを決定します。", correct: "B", exp: "Bが正解： LLMは意図を解釈し、最適解を選び、実行プラン（順序）を動的に立てるのが核心的な役割です。" },
            { id: 54, cat: "アクセス制限", q: "「ナレッジで質問に回答する」際、記事へのアクセスを制限する正しい方法は？", a: "A. スコープ指示をエージェントに定義します。", b: "B. データライブラリレトリーバーを更新します。", c: "C. データカテゴリを割り当て、データカテゴリフィルターを定義します。", correct: "C", exp: "Cが正解： ナレッジ標準の分類・表示制御機能（データカテゴリ）を使うのが最も標準的で安全です。" },
            { id: 55, cat: "アクセス手法", q: "プロンプトビルダーから Data Cloud データにアクセスするために使用すべき方法は？", a: "A. Flex テンプレートでDMOに直接アクセスする。", b: "B. Data Cloud 関連リスト、およびプロンプト起動フローを使用する。", c: "C. 外部 API のみを使用してインポートする。", correct: "B", exp: "Bが正解： 関連リストとして表示されているデータ利用か、フローによるクエリ取得が標準的な手段です。" },
            { id: 56, cat: "標準アクション", q: "過去の成功例に基づき生成AIでメールの下書きを作成する標準アクションは？", a: "A. エージェントアクション: レコードの要約", b: "B. エージェントアクション: 類似商談の検索", c: "C. エージェントアクション: 営業メールのドラフトまたは修正", correct: "C", exp: "Cが正解： 営業文脈に特化し、過去の成功例を根拠に利用してメールドラフトを生成する専用アクションです。" },
            { id: 57, cat: "PDF", q: "PDFとして保存されているポリシーを回答根拠にするために、最初に行うべきことは？", a: "A. Agentforce データライブラリを設定します。", b: "B. すべてのレコードを検索するようにします。", c: "C. ファイルをコンテンツに追加します。", correct: "A", exp: "Aが正解： PDFをインデックス化しAIが検索・読み取りできるようにする「データライブラリ」設定が必須の第一歩です。" },
            { id: 58, cat: "類似商談", q: "「似た他の商談を見せて」という発話に対し、UCはどのように対応すべきですか？", a: "A. 標準のエージェントアクションを使用します。", b: "B. フローを呼び出すアクションを作成します。", c: "C. Apex クラスを呼び出すアクションを作成します。", correct: "A", exp: "Aが正解： Agentforceには「類似商談の検索」という標準のアクションが既に備わっています。" },
            { id: 59, cat: "目的", q: "プロンプトビルダーの主な目的は何ですか？", a: "A. 開発者が Apex 用のプロンプトを作成するのを支援します。", b: "B. 再利用可能なプロンプトを作成できるようにするツールで、AI 応答を作業フローにもたらします。", c: "C. リアルタイムの提案とガイダンスを提供します。", correct: "B", exp: "Bが正解： 項目データを動的に組み込み、指示をテンプレート化して管理・再利用するためのツールです。" },
            { id: 60, cat: "ベストプラクティス", q: "苦情解決、補償提供、エスカレーションを自動化するのに最適なエージェントはどれですか？", a: "A. 営業 AI エージェント", b: "B. カスタムエージェント", c: "C. サービスエージェント", correct: "C", exp: "Cが正解： サポート業務に特化して事前に設定されている「サービスエージェント」の使用が最適です。" },
            { id: 61, cat: "プランニング", q: "「商談リストを見せて」に対するLLMのアクション特定・実行プロセスはどれですか？", a: "A. LLM はユーザーのリクエストを解釈し、適切なトピックとアクションを特定することによってプランを生成・実行します。", b: "B. LLM は静的な一連のルールを使用して照合します。", c: "C. ダイアログパターンを使用して一致させます。", correct: "A", exp: "Aが正解： LLMは意図を動的に解釈し、何のアクションが必要かの「プラン」をその場で立てて実行します。" },
            { id: 62, cat: "設定", q: "標準営業メールの「名前を付けて保存」後のカスタムプロンプトで、同じ結果を得るには？", a: "A. モデルプレイグラウンドを使用して設定を作成します。", b: "B. 新しいテンプレートに手動でハイパーパラメータを追加します。", c: "C. 標準テンプレートの使用に戻します。", correct: "B", exp: "Bが正解： パラメータ（温度等）はコピーされないため、標準と同じ動作には手動での再設定が必要です。" },
            { id: 63, cat: "検索", q: "コンプライアンスチームが「ポリシー条項番号」の完全一致を取得したい場合。", a: "A. キーワード検索を使用します。", b: "B. ハイブリッド検索を使用します。", c: "C. セマンティック検索を使用します。", correct: "A", exp: "Aが正解： 番号（例：3.1.4）のような固有の識別子を正確に見つけるには、キーワードの完全一致が確実です。" },
            { id: 64, cat: "プロンプト", q: "AI作成の要約を項目に入力し、人間が確認するプロセスを設計するには？", a: "A. 項目生成", b: "B. 営業メール", c: "C. レコードの要約", correct: "A", exp: "Aが正解： 項目生成テンプレートは、AIが生成したテキストを項目に直接入力し人間が確認・保存する専用機能です。" },
            { id: 65, cat: "アクション", q: "カスタムエージェントアクションのコアコンポーネントの1つはどれですか？", a: "A. アクショントリガー", b: "B. インストラクション", c: "C. 出力タイプ", correct: "B", exp: "Bが正解： 「インストラクション（指示）」こそが、AIに目的や実行条件を教える設定の核となります。" },
            { id: 66, cat: "設定", q: "カスタムエージェントアクションとして選択できるオプションはどれですか？", a: "A. Apex トリガー", b: "B. SOQL", c: "C. フロー", correct: "C", exp: "Cが正解： カスタムアクションは、主にノーコードでロジックを定義できる「フロー」を呼び出すように設計されています。" },
            { id: 67, cat: "エラー", q: "項目生成テンプレートで、ユーザートークン制限エラーが「ランダム」に発生する原因は？", a: "A. Flex に切り替える必要がある。", b: "B. 生成されるトークン数がレコード（データ長）によって異なる。", c: "C. ユーザー需要で変動する。", correct: "B", exp: "Bが正解： レコードごとに文字数（トークン数）が異なるため、特定のレコードで制限を超える現象が起きます。" },
            { id: 68, cat: "SDR", q: "SDRエージェントを実装する際に、認識しておくべきチャネルに関する考慮事項は？", a: "A. メッセージングチャネルにデプロイする必要がある。", b: "B. Eメールチャネルでのみ機能する。", c: "C. 会社の Web サイトにもデプロイする必要がある。", correct: "A", exp: "Aが正解： SDRエージェントはリアルタイムの対話（評価や育成）を行うため、メッセージングチャネルへのデプロイが必須です。" },
            { id: 69, cat: "開発", q: "Lightning Web コンポーネント (LWC) から呼び出すことができるプロンプトテンプレートタイプは？", a: "A. 項目生成", b: "B. 営業メール", c: "C. Flex", correct: "C", exp: "Cが正解： 「Flexテンプレート」は最も汎用的でオブジェクトに縛られないタイプであり、Apex経由でLWCから呼び出し可能です。" },
            { id: 70, cat: "理由", q: "データライブラリでナレッジ記事を使用する主な利点は何ですか？", a: "A. 全てのWebサイトからアクセスできる。", b: "B. 承認されたドキュメントのリポジトリを提供するため、信頼できる情報を取得できる。", c: "C. デフォルトのレトリーバーよりも精度が良い。", correct: "B", exp: "Bが正解： ナレッジは企業が検証・承認した「信頼できる情報源」であり、AIの回答の正確性を保証します。" },
            { id: 71, cat: "推論調整", q: "カスタムアクションが正しい順序でピックアップされない場合、インストラクションをどう調整すべき？", a: "A. アクションの API 参照名を使用して、依存関係を指定する。", b: "B. 呼び出しを許可する権限を指定する。", c: "C. LLM モデルバージョンを指定する。", correct: "A", exp: "Aが正解： プランナーに対し、インストラクション内でAPI名を参照し依存関係や順序を伝えることで理解を促せます。" },
            { id: 72, cat: "設定", q: "エージェントにアクションを割り当てる正しい手順は何ですか？", a: "A. エージェントビルダーで、最初にアクションをトピックに割り当てる。", b: "B. アクションの詳細ページで割り当てる。", c: "C. アクションビルダーで割り当てる。", correct: "A", exp: "Aが正解： まずトピックを作成し、そのトピックを実現するためのアクションを「エージェントビルダー」内で紐付けます。" },
            { id: 73, cat: "デプロイ", q: "サンドボックスで開発したエージェントを本番環境にデプロイする際、管理者は何をすべきですか？", a: "A. 手動で再作成する。", b: "B. JSON ファイルとしてエクスポート・インポートする。", c: "C. 必要なすべてのコンポーネントを含む送信変更セットを作成する。", correct: "C", exp: "Cが正解： エージェント設定はメタデータであり、標準的な「変更セット」を利用して移行するのが正しい方法です。" },
            { id: 74, cat: "効率化", q: "定型回答の入力時間を減らし、かつ項目値の提案で後処理を削減する機能の組み合わせは？", a: "A. Einstein 返信のおすすめとケース分類", b: "B. Einstein 返信のおすすめとケースの要約", c: "C. サービスリプライと作業の要約", correct: "A", exp: "Aが正解： 「返信のおすすめ」は定型文を提示し、「ケース分類」は項目値を提案することで前後工程を効率化します。" },
            { id: 75, cat: "設定", q: "過去に解決された「類似ケース」に基づいて回答させたい。Data Cloud で何をすべきですか？", a: "A. アクションは必要ありません。", b: "B. データモデルオブジェクト（DMO）を作成する。", c: "C. 非構造化データモデルオブジェクト（UDMO）を作成しインデックスを作成する。", correct: "C", exp: "Cが正解： ケース説明は自由記述の非構造化データであり、ベクトル検索にはUDMOとしての定義が必要です。" },
            { id: 76, cat: "外部モデル", q: "Databricks上のXGBoostモデルからの推奨結果を取り込むには？", a: "A. Databricksでサービングエンドポイントを作成し、モデルビルダーで設定する。", b: "B. Einstein Studioでエンドポイントを作成する。", c: "C. Python SDKコネクタを使用する。", correct: "A", exp: "Aが正解： まず外部でエンドポイント（API口）を公開し、Salesforce側からそこに接続設定を行うのが標準手順です。" },
            { id: 77, cat: "プランナー", q: "エージェントシステムにおけるプランナーサービスの主な機能は何ですか？", a: "A. レコードクエリを生成すること", b: "B. リアルタイムの言語翻訳を提供すること", c: "C. ユーザーの発話に応答するためのアクションを特定すること", correct: "C", exp: "Cが正解： プランナー（推論エンジン）の役割は、発話から意図を抽出し、どのアクションを呼ぶか「プラン」を立てることです。" },
            { id: 78, cat: "管理", q: "コパイロットに割り当てられたアクションを追加/更新する場所はどこですか？", a: "A. コパイロットアクションページ、アクションのレコードページ、またはライブラリタブ", b: "B. グローバルアクション", c: "C. コパイロット詳細ページ", correct: "A", exp: "Aが正解： 設定メニューのアクション管理セクションから、定義の更新や追加が可能です。" },
            { id: 79, cat: "自動生成", q: "データライブラリ設定を保存した後、Data Cloud で自動的に作成されるものは？", a: "A. パイプライン、エンジン、プロセッサ", b: "B. コネクタ、ダッシュボード、ワークルール", c: "C. データストリーム、検索インデックス、およびレトリーバー", correct: "C", exp: "Cが正解： データ取込・検索可能化・呼出のための3点セットがDCバックエンドで自動プロビジョニングされます。" },
            { id: 80, cat: "統合", q: "外部にある製品推奨予測モデルツールを利用しやすくする Agentforce の機能はどれですか？", a: "A. モデルコンテキストプロトコル (MCP)", b: "B. Hugging Face", c: "C. エージェント間プロトコル", correct: "A", exp: "Aが正解： MCPは外部AIモデルとデータを安全にやり取りするための標準化されたプロトコルです。" },
            { id: 81, cat: "表示", q: "作成した項目生成プロンプトテンプレートを、ユーザーに表示（公開）するには？", a: "A. 画面フローを使用して関連付ける。", b: "B. Lightning ページのフォーム項目にテンプレートを関連付ける。", c: "C. 自動起動フローで呼び出す。", correct: "B", exp: "Bが正解： ページ編集画面で特定の項目にテンプレートを紐付けることで、ユーザーが利用可能になります。" },
            { id: 82, cat: "利点", q: "なぜチームはパーソナライズメールのためにエージェントを使用すべきですか？", a: "A. 関連性の高いコンテンツを生成するため", b: "B. 過去のパフォーマンスを分析するため", c: "C. 自動メールを送信するため", correct: "A", exp: "Aが正解： 顧客データをリアルタイムで読み込み、その人に最適化された文章を「その場で生成」できるのが強みです。" },
            { id: 83, cat: "グラウンディング", q: "サービス AI グラウンディングでカスタムリッチテキスト項目を使用する際の考慮事項は？", a: "A. ケースとナレッジでのみ機能する。", b: "B. 文字列（String）およびテキストエリアタイプの項目のみをサポートする。", c: "C. システムモードで動作する。", correct: "B", exp: "Bが正解： 現在サポート対象はプレーンテキスト項目のみであり、HTMLタグを含むリッチテキスト項目は対象外です。" },
            { id: 84, cat: "プロンプト手法", q: "抽出項目のみを出力し、余計な会話を含めないようにプロンプトを構成するには？", a: "A. 情報のみを出力するように依頼する。", b: "B. 明確な出力指示を使用し、望ましい出力例を提供する。", c: "C. 名前と値のペアのみを使用するように指示する。", correct: "B", exp: "Bが正解： 指示だけでなく「出力例（Few-shot）」を提供することが、AIの出力を厳密に制御する最も確実な手法です。" },
            { id: 85, cat: "アクション", q: "ナレッジ記事に基づいて質問に回答するエージェントの標準アクション名は？", a: "A. ナレッジ記事回答アクション。", b: "B. LLM で質問に回答するアクション。", c: "C. ナレッジで質問に回答するアクション。", correct: "C", exp: "Cが正解： ナレッジベースから情報を検索して回答するための標準アクション名称です。" },
            { id: 86, cat: "エージェント", q: "部門効率を向上させるために、適切なエージェントを割り当てる設定はどれですか？", a: "A. SDR、サービス、および従業員エージェント。", b: "B. セールスコーチ、サービス、およびチケット。", c: "C. 1人のサービスエージェントが全て処理する。", correct: "A", exp: "Aが正解： Agentforceは業務領域ごとに最適化されたエージェントタイプを提供しており、使い分けるのが正しい設計です。" },
            { id: 87, cat: "アクション", q: "カスタムアクションとして選択できるオプションはどれですか？", a: "A. Apex トリガー", b: "B. SOQL", c: "C. フロー", correct: "C", exp: "Cが正解： アクションの実装ロジックとしては、現在「フロー」が主に使用されます。" },
            { id: 88, cat: "オブジェクト", q: "サービス AI グラウンディングが標準サポートするオブジェクトの組み合わせは？", a: "A. ケース、ナレッジ、およびケースメモ", b: "B. ケースとナレッジ", c: "C. ケース、メール、およびナレッジ", correct: "B", exp: "Bが正解： サービス用途の標準グラウンディング設定で、公式にサポートされている主要な組み合わせはケースとナレッジです。" },
            { id: 89, cat: "外部データ", q: "外部にあるPDFメンテナンスガイドを、クリックのみ（ノーコード）で使わせるには？", a: "A. トピック指示にリンクを貼る。", b: "B. Agentforce データライブラリに PDF をファイルソースとしてアップロードする。", c: "C. Data Cloud を設定して添付ファイルを取り込む。", correct: "B", exp: "Bが正解： データライブラリへのアップロードが、非構造化ドキュメントをAIの根拠として公開するための標準的な方法です。" },
            { id: 90, cat: "Slack", q: "Slack で Agentforce を有効にするための主要なステップは？", a: "A. Slack チャネルを有効にするのみ。", b: "B. Slack ワークフローを設定する。", c: "C. Slack 接続設定を行い、エージェントをインストールし、権限を割り当てる。", correct: "C", exp: "Cが正解： SlackとSalesforceを接続し、専用アプリをインストールして権限付与するという正規プロセスが必要です。" },
            { id: 91, cat: "検索ランキング", q: "新しい記事があるのに古い記事が返される問題に対し、DC検索インデックスの設定で解決するのは？", a: "A. キーワードインデックスを無効にする。", b: "B. チャンク化戦略を固定サイズにする。", c: "C. LastModifiedDate に基づいて「最新性」ランキング要素を追加する。", correct: "C", exp: "Cが正解： 順位付け要素に最終更新日を重み付けとして加えることで、新しい情報を優先的に参照するようになります。" },
            { id: 92, cat: "デプロイ", q: "複数のトピック/アクションを持つエージェントの本番デプロイにおける重要事項は？", a: "A. 本番データで直接結果を確認する。", b: "B. 依存関係の包含、Apex カバレッジ、有効化計画を確認する。", c: "C. 後からフローや Apex をデプロイする。", correct: "B", exp: "Bが正解： 依存メタデータの包含、カバレッジ要件、デプロイ後の有効化ステップの計画が成功の鍵です。" },
            { id: 93, cat: "監査", q: "マスクされたデータを監査・追跡するために Trust Layer をどのように使用すべきですか？", a: "A. Data Cloud に送信された LLM プロンプトを保存する監査証跡を利用する。", b: "B. プロンプトビルダーを使用して要求する。", c: "C. ユーザー生成プロンプトをエクスポートする。", correct: "A", exp: "Aが正解： Trust LayerはLLMとのやり取りを監査証跡としてキャプチャし、DCに保存・表示する機能を提供しています。" },
            { id: 94, cat: "制限", q: "データライブラリのデータソースを一度保存した後、後で変更することについて正しいのは？", a: "A. DC設定を通じて変更できる。", b: "B. レトリーバーを再設定して変更できる。", c: "C. データソースは、一度選択されると変更できない。", correct: "C", exp: "Cが正解： 現在の仕様ではデータソースの変更はできず、変更が必要な場合は新規作成が必要です。" },
            { id: 95, cat: "デバッグ", q: "カスタムアクションが正しい順序で実行されない不満がある。根本原因として何を調査すべき？", a: "A. 割り当てられているか確認する。", b: "B. アクションの指示（Instruction）が、固有であることを確認する。", c: "C. 入出力タイプを確認する。", correct: "B", exp: "Bが正解： AIは指示を読んでアクションを判断するため、指示が似ていると区別できず誤選択が生じます。" },
            { id: 96, cat: "営業 AI", q: "営業の文脈で Agentforce 営業エージェントを活用する適切なユースケースは何ですか？", a: "A. 自然言語を使用して、根拠のある営業タスクを呼び出す。", b: "B. ステップバイステップガイドを提供する。", c: "C. メッセージを自動記録する。", correct: "A", exp: "Aが正解： 言葉で指示を出し、それを受けたAIがデータに基づき定義済みアクションを呼び出すことが核心的価値です。" },
            { id: 97, cat: "検索", q: "なぜ企業は Data Cloud でハイブリッド検索インデックスを好むのですか？", a: "A. 埋め込みの必要性を排除するため。", b: "B. 事前にフィルタリングするため。", c: "C. キーワード一致とセマンティックリコールの両方をサポートしているため。", correct: "C", exp: "Cが正解： 正確な単語一致と曖昧な意図理解の両方の強みを活かせるため、柔軟な対応が可能です。" },
            { id: 98, cat: "要約", q: "最新データに基づいた詳細な製品説明を作成するのに、最適なプロンプトテンプレートタイプは？", a: "A. レコードの要約", b: "B. 営業メール", c: "C. 項目生成", correct: "A", exp: "Aが正解： レコードの全項目をコンテキストとして取得し包括的な概要を生成するのに最適な設計です。" },
            { id: 99, cat: "調整", q: "ドラフトメールを「よりカジュアルなトーン」に修正するために、ユーザーが選択すべきものは？", a: "A. カジュアルにする", b: "B. 親しみやすくする", c: "C. 分かりやすくする", correct: "A", exp: "Aが正解： AI出力調整オプションのメニュー名そのものが「カジュアルにする」です。" },
            { id: 100, cat: "RAG / PII", q: "個人識別情報（PII）を含む情報の検索拡張生成（RAG）におけるベストプラクティスは？", a: "A. プロンプト指示に依存する。", b: "B. PII レコードをインデックス化する。", c: "C. 機密項目をマスクし、PII 以外のデータのみをインデックス化する。", correct: "C", exp: "Cが正解： インデックス作成前の段階でPIIをマスクしておくことが、物理的な漏洩を防ぐ最も安全な対策です。" }
        ];

        const quizApp = {
            data: [],
            currentIndex: 0,
            score: 0,
            answered: false,
            isRandom: false,

            init() {
                this.data = QUIZ_DATA;
                console.log("Quiz Initialized: " + this.data.length + " questions.");
            },

            start(random) {
                this.isRandom = random;
                if(this.isRandom) {
                    this.data = [...QUIZ_DATA].sort(() => Math.random() - 0.5);
                } else {
                    this.data = QUIZ_DATA;
                }
                this.currentIndex = 0;
                this.score = 0;
                this.showScreen('quiz-screen');
                this.loadQuestion();
            },

            showScreen(id) {
                document.getElementById('start-screen').classList.add('hidden');
                document.getElementById('quiz-screen').classList.add('hidden');
                document.getElementById('result-screen').classList.add('hidden');
                document.getElementById(id).classList.remove('hidden');
                window.scrollTo(0,0);
            },

            loadQuestion() {
                const q = this.data[this.currentIndex];
                this.answered = false;
                
                const progress = ((this.currentIndex + 1) / this.data.length) * 100;
                document.getElementById('progress-bar').style.width = `${progress}%`;
                document.getElementById('progress-text').innerText = `QUESTION ${this.currentIndex + 1}/${this.data.length}`;
                document.getElementById('score-text').innerText = `SCORE: ${Math.round((this.score / (this.currentIndex || 1)) * 100)}%`;
                
                document.getElementById('category-badge').innerText = q.cat;
                document.getElementById('question-text').innerText = (q.id ? q.id + ". " : "") + q.q;
                
                const container = document.getElementById('options-container');
                container.innerHTML = '';
                
                ['A', 'B', 'C'].forEach(optKey => {
                    const btn = document.createElement('button');
                    btn.className = "option-btn w-full text-left p-4 rounded-xl border-2 border-slate-100 hover:border-blue-400 hover:bg-blue-50 transition flex items-start group shadow-sm";
                    btn.innerHTML = `
                        <span class="inline-block w-8 h-8 rounded-lg bg-slate-100 text-slate-500 font-bold text-center leading-8 mr-4 group-hover:bg-blue-500 group-hover:text-white transition flex-shrink-0">${optKey}</span>
                        <span class="text-slate-700 font-bold text-sm md:text-base">${q[optKey.toLowerCase()]}</span>
                    `;
                    btn.onclick = () => this.handleAnswer(optKey, btn);
                    container.appendChild(btn);
                });

                document.getElementById('explanation-container').classList.add('hidden');
            },

            handleAnswer(choice, btn) {
                if(this.answered) return;
                this.answered = true;
                
                const q = this.data[this.currentIndex];
                const isCorrect = choice === q.correct;
                
                if(isCorrect) this.score++;

                const btns = document.querySelectorAll('.option-btn');
                btns.forEach(b => {
                    b.disabled = true;
                    if(b.innerText.startsWith(q.correct)) {
                        b.classList.remove('border-slate-100');
                        b.classList.add('border-green-500', 'bg-green-50');
                        b.querySelector('span:first-child').classList.add('bg-green-500', 'text-white');
                    }
                });

                if(!isCorrect) {
                    btn.classList.remove('border-slate-100');
                    btn.classList.add('border-red-500', 'bg-red-50');
                    btn.querySelector('span:first-child').classList.add('bg-red-500', 'text-white');
                }

                const badge = document.getElementById('result-badge');
                badge.className = `flex items-center mb-4 font-bold text-lg ${isCorrect ? 'text-green-600' : 'text-red-600'}`;
                badge.innerHTML = isCorrect 
                    ? `<i class="fas fa-check-circle mr-2 text-2xl"></i> 正解！` 
                    : `<i class="fas fa-times-circle mr-2 text-2xl"></i> 不正解...正解は ${q.correct}`;
                
                document.getElementById('explanation-text').innerText = q.exp;
                document.getElementById('explanation-container').classList.remove('hidden');
                
                setTimeout(() => {
                    document.getElementById('explanation-container').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            },

            nextQuestion() {
                this.currentIndex++;
                if(this.currentIndex < this.data.length) {
                    this.loadQuestion();
                } else {
                    this.showResult();
                }
            },

            showResult() {
                this.showScreen('result-screen');
                const percent = Math.round((this.score / this.data.length) * 100);
                document.getElementById('final-score').innerText = `${percent}%`;
                document.getElementById('final-stats').innerText = `${this.data.length}問中 ${this.score}問正解`;
                
                let emoji = "🏆";
                if(percent < 80) emoji = "📚";
                if(percent < 60) emoji = "⏳";
                document.getElementById('final-emoji').innerText = emoji;
            }
        };

        window.onload = () => quizApp.init();
    </script>
</body>
</html>

